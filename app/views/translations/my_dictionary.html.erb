<div class="container">
    <header>
      <nav>
        <div class="nav-left">
          <%= link_to t('site.title'), root_path, class: "logo" %>
        </div>

        <div class="nav-center">
          <div class="language-selector">
            <%= link_to "ðŸ‡¬ðŸ‡§ EN", url_for(locale: :en), class: I18n.locale == :en ? 'active' : '' %>
            <%= link_to "ðŸ‡®ðŸ‡¹ IT", url_for(locale: :it), class: I18n.locale == :it ? 'active' : '' %>
            <%= link_to "ðŸ‡«ðŸ‡· FR", url_for(locale: :fr), class: I18n.locale == :fr ? 'active' : '' %>
            <%= link_to "ðŸ‡ªðŸ‡¸ ES", url_for(locale: :es), class: I18n.locale == :es ? 'active' : '' %>
            <%= link_to "ðŸ‡µðŸ‡¹ PT", url_for(locale: :pt), class: I18n.locale == :pt ? 'active' : '' %>
          </div>
        </div>

        <div class="nav-right">
          <% if user_signed_in? %>
            <p>Hello <%= current_user.email %></p>
            <%= link_to t('nav.my_dictionary'), my_dictionary_path %>
            <%= button_to t('nav.logout'), destroy_user_session_path, method: :delete %>
          <% else %>
            <%= link_to t('nav.login'), new_user_session_path %>
            <%= link_to t('nav.sign_up'), new_user_registration_path %>
          <% end %>
        </div>
      </nav>
    </header>
  <h1><%= t('dictionary.title') %></h1>

  <% if @saved_translations.any? %>
    <div class="translations-list">
      <% @saved_translations.each do |translation| %>
        <div class="translation-item">
          <h3><%= translation.original_idiom %></h3>
          <p class="language-badge"><%= translation.source_language.upcase %> â†’ <%= translation.target_language.upcase %></p>
          <div class="translation-content">
            <%= simple_format(translation.ai_response) %>
          </div>
          <div class="item-actions">
            <%= button_to t('dictionary.remove'), delete_translation_path(translation), method: :delete, class: "btn btn-small btn-danger", data: { confirm: t('dictionary.confirm_delete') } %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="empty-state"><%= t('dictionary.empty_state') %> <%= link_to t('dictionary.start_searching'), search_path %> <%= t('dictionary.for_idioms') %></p>
  <% end %>
</div>
